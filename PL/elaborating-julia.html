<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Julia Counts for PL Researchers &#8212; thautwarm&#39;s blog pages</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="First-class Pattern Matching in the Final Approach" href="tagless-final-pattern-match.html" />
    <link rel="prev" title="Tagless Final For Writing Compilers" href="plfp-20191219.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../guide.html">
          Site-32</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://github.com/thautwarm">GitHub</a></li>
                <li><a href="index.html">PL</a></li>
                <li><a href="../Design/index.html">Design</a></li>
                <li><a href="../DSL/index.html">DSL</a></li>
                <li><a href="../Fiction/index.html">Fiction</a></li>
                <li><a href="../Others/index.html">Others</a></li>
                <li><a href="../Backup/index.html">Backup</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../guide.html">Site-32 <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Site-32 Considered Harmful</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Compiler/index.html">Compiler</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Design/index.html">Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html">General Programming In Julia Language From An Advanced Standpoint</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#first-class">First-Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#polymorphisms-of-multiple-dispatch">Polymorphisms of Multiple Dispatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#full-featured-macros">Full-Featured Macros</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#macro-the-function-from-ast-to-ast">Macro, the Function from AST to AST</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#scope-and-hygiene">Scope and Hygiene</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#other-useful-knowledge-for-julia-macros">Other Useful Knowledge for Julia Macros</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#a-big-step-forward-in-ast-manipulations">A Big Step Forward in AST Manipulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/General-Programming-In-Julia-Language-From-An-Advanced-Standpoint.html#limitation-absence-of-function-types">Limitation: Absence of Function Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Design/Some-Thoughts-About-The-RestrainJIT.html">Some Thoughts About The Restrain JIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Design/Research-Restrain-JIT.html">Research: Review and Observations of Python JIT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Design/Research-Restrain-JIT.html#history">History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/Research-Restrain-JIT.html#observations">Observations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Design/PEP622-1.html">My Comments about PEP 622(V1)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#my-concerns">My Concerns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#scoping-issues">Scoping Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#comments-about-the-rejection-of-and-patterns">Comments about the rejection of AND (&amp;) patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#consider-performance-guards-as-patterns">Consider Performance: Guards As Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#grammar-change-feature-request-parameterized-patterns">Grammar Change &amp; Feature Request: Parameterized Patterns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#an-alternative-match-protocol-can-be-better-in-simplicity-efficiency-and-expressivity">An Alternative <code class="docutils literal notranslate"><span class="pre">__match__</span></code> Protocol Can be Better in Simplicity, Efficiency, and Expressivity.</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Design/PEP622-1.html#simplicity-of-the-alternative-match-protocol">Simplicity of the alternative <code class="docutils literal notranslate"><span class="pre">__match__</span></code> protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Design/PEP622-1.html#the-alternative-match-protocol-is-efficient">The alternative <code class="docutils literal notranslate"><span class="pre">__match__</span></code> protocol is efficient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Design/PEP622-1.html#the-alternative-match-protocol-results-in-better-expressivity">The alternative <code class="docutils literal notranslate"><span class="pre">__match__</span></code> protocol results in better expressivity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-1.html#miscellaneous">Miscellaneous</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Design/PEP622-1.html#else-clauses-in-pattern-matching"><code class="docutils literal notranslate"><span class="pre">else</span></code> Clauses in Pattern Matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Design/PEP622-1.html#grammar-of-patterns-could-become-that-of-expressions">Grammar of Patterns Could Become That of Expressions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Design/PEP622-2.html">PEP 622(V2)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#bringing-else-back-is-rejected">Bringing <code class="docutils literal notranslate"><span class="pre">else</span></code> Back is Rejected</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#variables-in-patterns-bindings-instead-of-evaluations-and-comparisons">Variables in Patterns: Bindings instead of Evaluations and Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#alternative-match-protocol">Alternative <code class="docutils literal notranslate"><span class="pre">__match__</span></code> Protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#the-switch-semantics">The Switch Semantics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Design/PEP622-2.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../DSL/index.html">DSL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html">Write You A Query Language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html#definition-of-syntaxes">Definition of Syntaxes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html#codegen-target">Codegen Target</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html#refinement-of-codegen-typed-columns">Refinement of Codegen: Typed Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html#implementation">Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DSL/write-your-a-query-language-with-MLStyle.html#enjoy-you-a-query-language">Enjoy You A Query Language</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Fiction/index.html">Fiction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Fiction/index.html#id1">2021年4月</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fiction/index.html#id3">2020年10月</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fiction/index.html#id4">2020年6月</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fiction/index.html#id7">2020年4月</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fiction/index.html#id9">2019年10月</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Fiction/index.html#id10">日前安排</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Fiction/index.html#id18">目录</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-10-13.html">Smarter Witnesses for Type Classes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#notation">Notation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#instance-resolution-variables-as-instances">Instance Resolution &amp; Variables As Instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#the-most-general-instance-problem-overlapping-instance-problem">“The Most General Instance” Problem &amp; “Overlapping Instance” Problem</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#id1">优化</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#id2">该算法和相应语言设计的好处</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-13.html#id3">不足之处</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-10-15.html">我和Python的故事</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#id1">第0节</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#id2">第1节: 科学计算, Python, 生物信息学和数据挖掘</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#id3">第2节: 转型的经过, 走向程序语言设计领域</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#id4">第3节: 想要给Python添加高级语言特性的理想</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#id5">第4节: Flowpython</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-15.html#bnf-parser-generator">第4节: BNF, Parser Generator和语言制造机器</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-10-30.html">杂谈</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-30.html#pycon-china-2019">PyCon China 2019 成都</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2019-10-30.html#id2">直面自己的人格缺陷</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-11-06.html">杂谈</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-11-14.html">我太难了</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2019-11-17.html">我太懂了</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2020-01-07.html">打通</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2020-01-07.html#parsing">Parsing</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2020-01-07.html#python">Python 字节码</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2020-02-02.html">Tagless Final in F#</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2020-02-07.html">Encoding Typeclass Default Methods in Purescript</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/日记2020-02-11.html">近期规划</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/日记2020-02-11.html#purescript-python">Purescript-Python</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../Fiction/日记2020-02-11.html#anf">从表达式优先到语句优先: ANF变换</a></li>
<li class="toctree-l6"><a class="reference internal" href="../Fiction/日记2020-02-11.html#pythonfirst-class">Python虚拟机上的First-class的表达式优先</a></li>
<li class="toctree-l6"><a class="reference internal" href="../Fiction/日记2020-02-11.html#id2">社区意见</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/cure/和平日久.html">如何写出令人感到幸福的小说</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id2">合理利用“无敌”元素</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id3">“纯爱”而非“后宫”</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id4">细腻的画面感</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id5">节奏流畅的回忆</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id6">暗线和潜台词</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/和平日久.html#id7">总结</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../Fiction/cure/乐理菜鸡怎么给自己的小说写bgm.html">乐理菜鸡怎么给自己的小说写BGM?</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/乐理菜鸡怎么给自己的小说写bgm.html#id1">找调</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/乐理菜鸡怎么给自己的小说写bgm.html#id2">打谱</a></li>
<li class="toctree-l5"><a class="reference internal" href="../Fiction/cure/乐理菜鸡怎么给自己的小说写bgm.html#id3">总结</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Programming Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HKT.html">Higher Kinded Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="typeclass.html">Type Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="typeclass.html#about-abstractions">About Abstractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="typeclass.html#about-separation-of-type-definitions-and-data-manipulations">About Separation of Type Definitions and Data Manipulations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="paper-reading-LHKP.html">Paper Reading: Lightweight-Higher-Kinded-Polymorphism</a><ul>
<li class="toctree-l3"><a class="reference internal" href="paper-reading-LHKP.html#how-to">How-To</a></li>
<li class="toctree-l3"><a class="reference internal" href="paper-reading-LHKP.html#static-resolution-more-polymorphic">Static Resolution: More polymorphic</a></li>
<li class="toctree-l3"><a class="reference internal" href="paper-reading-LHKP.html#limitation1-much-higher-kinded">Limitation1: Much Higher Kinded</a></li>
<li class="toctree-l3"><a class="reference internal" href="paper-reading-LHKP.html#limitation2-identity">Limitation2: Identity</a></li>
<li class="toctree-l3"><a class="reference internal" href="paper-reading-LHKP.html#why-this-lightweight-higher-polymorphism-instead-of-the-haskell-approach">Why this Lightweight-Higher-Polymorphism instead of the Haskell approach</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="HKT-typeclass-FSharp.html">Compelling Higher Kinded Types and Type Classes in F#</a><ul>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#active-pattern">Active Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#statically-resolved-type-parameters">Statically Resolved Type Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#the-getsig-function-and-implicits">The <em>getsig</em> Function and Implicits</a></li>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#why-abstractclass">Why AbstractClass?</a></li>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#why-functor-f-instead-of-the-straightforward-functor">Why <em>Functor&lt;’F&gt;</em> instead of the straightforward <em>Functor</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="HKT-typeclass-FSharp.html#references-and-further-reading">References and Further Reading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plfp-20191212.html">FSYM: An Abstraction On Tagless-Final Style To Compositing And Decoupling Multiple Interpretations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191212.html#terminology">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191212.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191212.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191212.html#application">Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191212.html#scoping-name-resolution">Scoping: Name Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191212.html#typing-type-inference">Typing: Type Inference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191212.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plfp-20191219.html">Tagless Final For Writing Compilers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191219.html#problem">Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191219.html#tagless-final-for-compiler-phases">Tagless Final For Compiler Phases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#quick-start-for-tagless-final">Quick Start for Tagless Final</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#grammar">“Grammar”</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#expanding-representation">Expanding Representation</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#problems-of-decoupling-and-compositing">Problems of Decoupling and Compositing</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#fsym">FSYM</a></li>
<li class="toctree-l4"><a class="reference internal" href="plfp-20191219.html#laziness-for-mutual-dependencies">Laziness, for Mutual Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plfp-20191219.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Julia Counts for PL Researchers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expressiveness">Expressiveness</a></li>
<li class="toctree-l3"><a class="reference internal" href="#staging">Staging</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advantages-as-a-codegen-backend">Advantages as a codegen backend</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tagless-final-pattern-match.html">First-class Pattern Matching in the Final Approach</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-pattern-match.html#core-ideas">Core Ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-pattern-match.html#full-implementation-in-haskell">Full implementation in Haskell</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-pattern-match.html#enhancement-1">Enhancement 1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tagless-final-for-julia.html">Julia Benefits from Tagless Final</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-for-julia.html#what-happened-today">What Happened Today?</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-for-julia.html#an-example-turns-out-to-be-type-unstable">An Example Turns Out to be Type Unstable</a></li>
<li class="toctree-l3"><a class="reference internal" href="tagless-final-for-julia.html#tagless-final-encoding-about-above-code">Tagless Final Encoding about Above Code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hrt-use-case.html">Some Use Cases for Higher Rank Polymorphisms(No Monad)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="hrt-use-case.html#polymorphic-functions-for-edsl">Polymorphic Functions for eDSL</a></li>
<li class="toctree-l3"><a class="reference internal" href="hrt-use-case.html#existential-types">Existential Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="hrt-use-case.html#manipulation-for-heterogeneous-data">Manipulation for Heterogeneous Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Backup/index.html">Backup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Backup/高观点下的Julia泛用编程.html">高观点下的Julia泛用编程</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Others/index.html">Others</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Others/contributions.html">Thautwarm’s Open Source Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Others/contributions.html#projects-owned-by-other-individuals-organizations">Projects Owned By Other Individuals/Organizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Others/contributions.html#leading-projects">Leading Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Others/contributions.html#other-notable-personal-projects">Other Notable Personal Projects</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Subsections <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Julia Counts for PL Researchers</a><ul>
<li><a class="reference internal" href="#expressiveness">Expressiveness</a></li>
<li><a class="reference internal" href="#staging">Staging</a></li>
<li><a class="reference internal" href="#advantages-as-a-codegen-backend">Advantages as a codegen backend</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="julia-counts-for-pl-researchers">
<h1>Julia Counts for PL Researchers<a class="headerlink" href="#julia-counts-for-pl-researchers" title="Permalink to this headline">¶</a></h1>
<p>Julia is an interesting programming language.</p>
<p>It’s fast, expressive, when keeping a dynamic programming language.</p>
<p>From the perspective of Programming Language, I feel like to give some short introductions of Julia, in this structure:</p>
<ul class="simple">
<li>Expressiveness<ul>
<li>LISP macro system</li>
<li>Type system(think why I say “type system” for a dynamic language?)</li>
</ul>
</li>
<li>Staging</li>
<li>Advantages as a codegen backend<ul>
<li>Everything is expression</li>
<li>HPC: easy GPU/SIMD interfaces</li>
<li>Capability of generating LLVM IR/native ASM</li>
</ul>
</li>
</ul>
<div class="section" id="expressiveness">
<h2>Expressiveness<a class="headerlink" href="#expressiveness" title="Permalink to this headline">¶</a></h2>
<p>Julia is likely to be the most expressive dynamic programming language.</p>
<p>It has LISP macros, with which can you manipulate your program in AST level.</p>
<p>Its low level IR(between AST and LLVM) is available to users, hence you could re-compile your functions, and change its behaviors.</p>
<p>It has a type system, which at least get rid of some unsoundness examples shown in Java. Specifically, it implements the “right” covariance, which works well with parametric types without suffering from the potentially incorrect coercions.</p>
<p>Let’s see the macro part first.</p>
<p>Julia ASTs are symbolic expressions(s-expressions), and available by using the macro syntax.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">macro</span> <span class="n">identity_process</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="n">code</span>
<span class="k">end</span>
<span class="k">macro</span> <span class="n">get_ast</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="kt">QuoteNode</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">x</span> <span class="o">=</span> <span class="nd">@identity_process</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c"># 2</span>
<span class="n">y</span> <span class="o">=</span> <span class="nd">@get_ast</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">println</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c"># 1 + 1</span>

<span class="n">dump</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="c"># Expr</span>
<span class="c">#   head: Symbol call</span>
<span class="c">#   args: Array{Any}((3,))</span>
<span class="c">#     1: Symbol +</span>
<span class="c">#     2: Int64 1</span>
<span class="c">#     3: Int64 1</span>
</pre></div>
</div>
<p>Syntactically constructing an AST node is allowed, by using <code class="docutils literal notranslate"><span class="pre">quotation</span></code>s.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">expr1</span> <span class="o">=</span> <span class="k">quote</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">end</span>

<span class="n">expr2</span> <span class="o">=</span> <span class="o">:</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Further, the scope issues of macro system are solved by the support of hygiene and unhygiene. In a macro function, i.e, a function defined by leading keyword <code class="docutils literal notranslate"><span class="pre">macro</span></code>, if you return a <code class="docutils literal notranslate"><span class="pre">esc(code)</span></code>, the returned AST is unhygienic.</p>
<p>Q: What is the hygiene of macro?</p>
<p>A: The symbols used in the processed AST will not interact with the scope of macro callsites. Hence, the scope of macro callsites will not change, the binding, reading or writing of symbols are separate from the callsite.</p>
<p>Q: What is the unhygiene of macro?</p>
<p>A: You can refer the symbols from macro callsites. Hence, you can use macros to add new symbols, change value of a symbol, and so on.</p>
<p>This design permits the full featured use of LISP macros.</p>
<p>Next, let us focus on the type system.</p>
<p>Julia is strongly typed, hence you cannot coerce the type of a datum unlimitedly.</p>
<p>The type hierarchy is relatively clean.</p>
<p><img alt="jl-type-hier" src="../_images/julia-type-hierarchy.png" /></p>
<p>You can upcast the type to its super type, and runtime type information will be stored as well. When downcasting the type to a specific one, type assertions will be performed on the stored runtime type information, to check its validity.</p>
<p>This mechanism contributes to Julia’s type safety.</p>
<p>Covariance in Julia looks pretty good</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">F</span><span class="p">(</span><span class="n">arg</span> <span class="o">::</span> <span class="kt">Vector</span><span class="p">{</span><span class="n">a</span><span class="p">})</span> <span class="n">where</span> <span class="n">a</span> <span class="o">&lt;:</span> <span class="kt">Number</span>
    <span class="n">a</span>
<span class="k">end</span>
<span class="n">F</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="c"># =&gt; Int</span>
<span class="n">F</span><span class="p">([</span><span class="s">&quot;2&quot;</span><span class="p">,</span> <span class="s">&quot;3&quot;</span><span class="p">])</span> <span class="c"># =&gt; string</span>
</pre></div>
</div>
<p><strong>Because in Julia, covariance successfully gets distinguished from heterogenous abstract types.</strong></p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">G</span><span class="p">(</span><span class="n">arg</span> <span class="o">::</span> <span class="kt">Vector</span><span class="p">{</span><span class="kt">Number</span><span class="p">})</span>
<span class="c"># or function F(arg :: Vector{a where a &lt;: Number})</span>
<span class="k">end</span>
<span class="n">G</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="c"># error!</span>
</pre></div>
</div>
<p>Above codes report an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span> <span class="n">MethodError</span><span class="p">:</span> <span class="n">no</span> <span class="n">method</span> <span class="n">matching</span> <span class="n">F</span><span class="p">(::</span><span class="n">Array</span><span class="p">{</span><span class="n">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">})</span>
<span class="n">Closest</span> <span class="n">candidates</span> <span class="n">are</span><span class="p">:</span>
  <span class="n">F</span><span class="p">(::</span><span class="n">Array</span><span class="p">{</span><span class="n">Number</span><span class="p">,</span><span class="mi">1</span><span class="p">})</span> <span class="n">at</span> <span class="o">...</span>
</pre></div>
</div>
<p>Why, isn’t a vector of integers a vector of numbers?</p>
<p>May not, because there’re ambiguities.
When we say “a vector of numbers”, are we meaning <strong>“a vector of any numbers”</strong>, or <strong>“a vector of some kind of numbers”</strong>?</p>
<p>In Julia, things get distinguished.</p>
<p>A vector of some kind of numbers is <code class="docutils literal notranslate"><span class="pre">Vector{a}</span> <span class="pre">where</span> <span class="pre">a</span> <span class="pre">&lt;:</span> <span class="pre">Number</span></code>, or <code class="docutils literal notranslate"><span class="pre">Vector{&lt;:Number}</span></code>, which is the correct “generic” type.</p>
<p>A vector of any numbers is, <code class="docutils literal notranslate"><span class="pre">Vector{a</span> <span class="pre">where</span> <span class="pre">a</span> <span class="pre">&lt;:</span> <span class="pre">Number}</span></code>, or <code class="docutils literal notranslate"><span class="pre">Vector{Number}</span></code>, which is heterogenous.</p>
<p>Besides, “some kind of numbers” belongs to “any numbers”, so  <code class="docutils literal notranslate"><span class="pre">Vector{Number}</span></code> is an instance of <code class="docutils literal notranslate"><span class="pre">Vector{&lt;:Number}</span></code>, and the converse doesn’t hold.</p>
<p>Additionally, Julia provides us with a type system including runtime type representations and useful operations, which are quite handy.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">sort</span><span class="p">(</span>
    <span class="c"># T[a, b, c] is a vector of type Vector{T}</span>
    <span class="kt">Type</span><span class="p">[</span>
        <span class="kt">Vector</span><span class="p">{</span><span class="n">a</span><span class="p">}</span> <span class="n">where</span> <span class="n">a</span> <span class="o">&lt;:</span> <span class="kt">Integer</span><span class="p">,</span>
        <span class="kt">Vector</span><span class="p">{</span><span class="kt">Int</span><span class="p">},</span>
        <span class="kt">Vector</span><span class="p">{</span><span class="n">a</span><span class="p">}</span> <span class="n">where</span> <span class="n">a</span> <span class="o">&lt;:</span> <span class="kt">Number</span>
    <span class="p">],</span> 
    <span class="n">lt</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;:</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>We got</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="o">-</span><span class="n">element</span> <span class="n">Array</span><span class="p">{</span><span class="n">Type</span><span class="p">,</span><span class="mi">1</span><span class="p">}:</span>
 <span class="n">Array</span><span class="p">{</span><span class="n">Int64</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span>
 <span class="n">Array</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span> <span class="n">where</span> <span class="n">a</span><span class="o">&lt;</span><span class="p">:</span><span class="n">Integer</span>
 <span class="n">Array</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span> <span class="n">where</span> <span class="n">a</span><span class="o">&lt;</span><span class="p">:</span><span class="n">Number</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Vector{a}</span></code> is an alias for <code class="docutils literal notranslate"><span class="pre">Array{a,</span> <span class="pre">1}</span></code>.</p>
<p>As for a higher level interface for user programming, Julia has parametric functions. It’s called multiple dispatch, which provides ad hoc polymorphisms, including virtual dispatch(runtime) and static dispatch(compile time).</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Int</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="n">String</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span>
</pre></div>
</div>
</div>
<div class="section" id="staging">
<h2>Staging<a class="headerlink" href="#staging" title="Permalink to this headline">¶</a></h2>
<p>I love staging techniques, and staging in Julia is very handy and powerful. Julia integrates quite a few partial evaluation techniques, and I love their staging implementation the most.</p>
<p>Julia has a special utility for runtime code generation, called “generated functions”. In the early stage and the first edition of Julia paper, it’s called “staged functions”.</p>
<p>It’s amazing because it does zero-cost runtime code generation. Yes, zero-cost.</p>
<p>An <a class="reference external" href="https://github.com/thautwarm/GeneralizedGenerated.jl/blob/master/capabilities.md#a-use-case-for-miraculous-speed-up">example</a> shows something probably only available in Julia.</p>
<p>For instance, we can automatically generate functions which summary all integer elements of tuples of any sizes.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="nd">@generated</span> <span class="k">function</span> <span class="n">sum_ints</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="n">T</span><span class="p">)</span> <span class="n">where</span> <span class="n">T</span> <span class="o">&lt;:</span> <span class="kt">Tuple</span>
    <span class="n">tuple_element_types</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">parameters</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">code</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">each</span> <span class="kp">in</span> <span class="n">tuple_element_types</span>
        <span class="k">if</span> <span class="n">each</span> <span class="o">==</span> <span class="kt">Int</span>
            <span class="n">code</span> <span class="o">=</span> <span class="o">:</span><span class="p">(</span><span class="o">$</span><span class="n">code</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="o">$</span><span class="n">i</span><span class="p">])</span>
        <span class="k">end</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">end</span>
    <span class="n">code</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Above code eliminates the runtime type checking of tuple elements. <code class="docutils literal notranslate"><span class="pre">sum_ints</span></code> generates a specialized implementation for all distinct argument types, if used/invoked.</p>
<p>Advantages:</p>
<ul class="simple">
<li><strong>The generation for each argument type happens once only, managed by compiler</strong></li>
<li><strong>You don’t have to control when and where to generate it yourself.</strong></li>
<li><strong>After performing the code generation, it may trigger recompilation of existing functions, to inline more</strong></li>
</ul>
<p>Disadvantage:</p>
<ul class="simple">
<li>space-consuming</li>
<li>difficult in re-generation</li>
<li>The generator code (used to build the AST from the argument types) cannot call functions or methods which are defined after the generated function is defined. (from <a class="reference external" href="https://discourse.julialang.org/t/constraints-for-generated-function/27967/2">this post</a>)</li>
</ul>
</div>
<div class="section" id="advantages-as-a-codegen-backend">
<h2>Advantages as a codegen backend<a class="headerlink" href="#advantages-as-a-codegen-backend" title="Permalink to this headline">¶</a></h2>
<p>Julia is pretty suitable as a codegen backend.</p>
<p>Firstly, syntactically, language constructs in Julia are all expressions.</p>
<p>Expressions make things easier for lowering higher level program representations to lower IRs.</p>
<p>Say, if we have some abstract syntaxes, in OCaml notations, we write</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="n">exp</span> <span class="o">=</span>
<span class="o">|</span> <span class="nc">Assignment</span> <span class="k">of</span> <span class="n">name</span> <span class="o">*</span> <span class="n">exp</span>
<span class="o">|</span> <span class="nc">BlockExpr</span> <span class="k">of</span> <span class="n">exp</span> <span class="kt">list</span>
</pre></div>
</div>
<p>So, <code class="docutils literal notranslate"><span class="pre">BlockExpr</span></code> is a suite of expressions, whose result is the last expression inside the block.</p>
<p>This just cannot get implemented trivially(I mean “directly syntax mapping without control flow analysis”).</p>
<p>Thus, when targeting ordinary C(C99), or Python(lower than 3.8), or older Java(prior before Java8), block expressions are difficult to translate/compile.</p>
<p>Julia suffices, with this wise language design.</p>
<p>P.S: I will never forget how awful it is when I’m compiling T-SQL to Python.</p>
<p>Secondly, I think you’d like to use those fashionable and practical HPC stuffs, like accelerating by GPU or SIMD.</p>
<p>Julia can easily access native world, with many convenient encapsulations in different levels through hardwares to softwares.</p>
<p>For SIMD, things are easy because SIMD support is builtin.</p>
<p>SIMD accelerates loops in this way:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">vector_add2_simd</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">length</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="nd">@simd</span> <span class="k">for</span> <span class="n">i</span> <span class="kp">in</span> <span class="mi">1</span><span class="o">:</span><span class="n">n</span>
        <span class="nd">@inbounds</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">2</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&#64;inbounds</span></code> is very nice, which eliminates array boundary checking. Just low level enough in such a high level language.</p>
<p>For GPU accelerations, you have many choices.</p>
<p>So far, <code class="docutils literal notranslate"><span class="pre">CuArray</span></code> implemented by <a class="reference external" href="https://github.com/JuliaGPU">JuliaGPU</a> organization is pretty good.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">CuArrays</span>
<span class="n">cuarr</span> <span class="o">=</span> <span class="n">cu</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">cuarr</span> <span class="o">.+=</span> <span class="mi">2</span> <span class="c"># all element do inplace add 2, with GPU</span>
<span class="n">cuarr</span> <span class="o">.*=</span> <span class="mi">2</span> <span class="c"># all element do inplace multiply 2, with GPU</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.</span></code> means broadcast in Julia, functions can also use broadcasts.</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">function</span> <span class="n">ff</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span>
        <span class="mi">3</span>
    <span class="k">else</span>
        <span class="mi">5</span>
    <span class="k">end</span>
<span class="k">end</span>
<span class="n">ff</span><span class="o">.</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="c"># =&gt; [3, 5, 5]</span>
</pre></div>
</div>
<p>For normal Julia arrays, <code class="docutils literal notranslate"><span class="pre">.</span></code> may perform CPU parallel accelerations.</p>
<p>For JuliaGPU’s <code class="docutils literal notranslate"><span class="pre">CuArray</span></code>s, <code class="docutils literal notranslate"><span class="pre">.</span></code> performs GPU parallel accelerations.</p>
<p>The last reason I’d give here to convince Julia is a good codegen target is,
you can access many native stuffs, you can target LLVM IR/native ASM by target Julia.</p>
<p><a class="reference external" href="https://github.com/yuyichao/FunctionWrappers.jl/blob/47f02f3994d1ae83aeba8823ccffd4d788e984ba/src/FunctionWrappers.jl#L9">This</a> is an example for directly calling LLVM IR from a Julia developer:</p>
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="nd">@inline</span> <span class="k">function</span> <span class="n">assume</span><span class="p">(</span><span class="n">v</span><span class="o">::</span><span class="kt">Bool</span><span class="p">)</span>
    <span class="n">Base</span><span class="o">.</span><span class="n">llvmcall</span><span class="p">((</span><span class="s">&quot;declare void @llvm.assume(i1)&quot;</span><span class="p">,</span>
                   <span class="s">&quot;&quot;&quot;</span>
<span class="s">                   %v = trunc i8 %0 to i1</span>
<span class="s">                   call void @llvm.assume(i1 %v)</span>
<span class="s">                   ret void</span>
<span class="s">                   &quot;&quot;&quot;</span><span class="p">),</span> <span class="n">Cvoid</span><span class="p">,</span> <span class="kt">Tuple</span><span class="p">{</span><span class="kt">Bool</span><span class="p">},</span> <span class="n">v</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>We can also use the C wrapper <a class="reference external" href="https://github.com/maleadt/LLVM.jl">LLVM.jl</a> to access those most commonly used LLVM APIs.</p>
<p>Generating native assemblies and calling them are also relatively easy in Julia, here is <a class="reference external" href="https://github.com/YingboMa/AsmMacro.jl">A REPO</a> for generating x86 ASM with Julia.</p>
<p>Julia can help you get rid of those tedious parts when working with complex things like LLVM or ASM environments,
and help us researchers to focus on code generation itself and achieving functionalities.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/PL/elaborating-julia.md.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2020, thautwarm.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.0.<br/>
    </p>
  </div>
</footer>
  </body>
</html>